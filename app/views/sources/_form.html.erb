<div id='source-form' class='source-form ui form segment mini'>
	<%= form_for @source do |f| %>
		<div class="field ui input mini">
			<%= f.label 'Title or name' %>
			<%= f.text_field :title, placeholder: 'E.g. Wikipedia' %>
		</div>

		<div class="field ui input mini">
			<%= f.label 'Url' %>
			<%= f.text_field :url, placeholder: 'E.g. http://en.wikipedia.org' %>
		</div>

		<div class="field ui input mini">
			<%= f.label 'Brief description' %>	
			<%= f.text_area :description, placeholder: 'E.g. User submitted encyclopedia featuring a large variety of topics.' %>
		</div>

		<div class="field ui input mini">
			<%= f.label 'Upload an associated image' %>	
			<%= f.file_field :avatar %>
		</div>

		<div class="field ui input mini" id="step-container">
			<%= f.label 'Topics covered' %>
			<div id="categories-label-container" class="label-group mood ui small labels"></div>
		 	<input id="categories" class="typeahead" type="text" placeholder="E.g. ruby, web development">
		</div>

		<div class="field ui input mini">
			<%= f.label 'Type' %>
			<div class="">
				<%= f.select :kind, [['Article', 0], ['Book', 1], ['Video', 2], ['Course', 3]], class: "item" %>
			</div>
		</div>

		<div class="field ui input mini">
			<%= f.label 'Difficulty level (beginner -> advanced)' %>
			<%= f.range_field :difficulty %>
		</div>

		<div class="field ui input mini">
			<%= f.label 'Time required' %>
			<%= f.text_field :time_required, placeholder: 'E.g. 15-45 minutes' %>
		</div>

		<div class="field ui input mini">
			<%= f.label 'Price' %>
			<div class="">
				<%= f.select :price, [['Free', 0], ['Cheap', 1], ['Affordable', 2], ['Expensive', 3]], class: "item" %>
			</div>
		</div>

		<%= f.submit "ADD SOURCE", class: "ui large green button submit" %>
	<% end %>
</div>

<script>
	window.sourceForm.component.attachTo('#source-form');
	window.sourceForm.validate('#source-form');

	window.typeAhead.component.attachTo('#categories.typeahead');

	window.categoriesService.getCategories();
</script>